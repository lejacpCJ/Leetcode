# 1518. Water Bottles

## Problem Info

- **Difficulty:** Easy
- **Topics:** Math, Simulation
- [Link to the problem](https://leetcode.com/problems/water-bottles/)

## Description

You are given `numBottles` water bottles that are initially full of water. You can exchange `numExchange` empty water bottles from the market with one full water bottle.

The operation of drinking a full water bottle turns it into an empty bottle.

Given the two integers `numBottles` and `numExchange`, return the maximum number of water bottles you can drink.

## Examples

- Input: `numBottles = 9`, `numExchange = 3`  
  Output: `13`  
  Explanation: You can exchange 3 empty bottles to get 1 full water bottle.  
  Number of water bottles you can drink: 9 + 3 + 1 = 13.

- Input: `numBottles = 15`, `numExchange = 4`  
  Output: `19`  
  Explanation: You can exchange 4 empty bottles to get 1 full water bottle.  
  Number of water bottles you can drink: 15 + 3 + 1 = 19.

## Constraints

- `1 <= numBottles <= 100`
- `2 <= numExchange <= 100`

---

## Solution

1. **Drink all full bottles:** Each time you drink a bottle, it becomes empty.
2. **Exchange empty bottles:** Whenever you have at least `numExchange` empty bottles, exchange them for a new full bottle.
3. **Repeat:** Continue until you can't exchange anymore.

**Complexity:**

- **Time:** O(log(numBottles)), since the number of bottles decreases each round.
- **Space:** O(1), only a few variables are used.

**Python Code:**

```python
class Solution:
    def numWaterBottles(self, numBottles: int, numExchange: int) -> int:
        numEmpty = 0
        res = 0
        while numBottles > 0 or numEmpty >= numExchange:
            res += numBottles
            numEmpty += numBottles
            numBottles, numEmpty = divmod(numEmpty, numExchange)
        return res
```
