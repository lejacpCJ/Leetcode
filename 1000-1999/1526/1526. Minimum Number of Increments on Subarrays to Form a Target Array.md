# 1526. Minimum Number of Increments on Subarrays to Form a Target Array

## Problem Info

- **Difficulty:** Hard
- **Topics:** Array, Dynamic Programming, Stack, Greedy, Monotonic Stack
- [Link to the problem](https://leetcode.com/problems/minimum-number-of-increments-on-subarrays-to-form-a-target-array/)

## Description

You are given an integer array `target`. You have an integer array `initial` of the same size as `target` with all elements initially zeros.

In one operation you can choose any subarray from `initial` and increment each value by one.

Return the minimum number of operations to form a target array from `initial`.

The test cases are generated so that the answer fits in a 32-bit integer.

## Examples

- **Example 1:**

  - Input: `target = [1,2,3,2,1]`
  - Output: `3`
  - Explanation:
    - `[0,0,0,0,0]` increment 1 from index 0 to 4 (inclusive).
    - `[1,1,1,1,1]` increment 1 from index 1 to 3 (inclusive).
    - `[1,2,2,2,1]` increment 1 at index 2.
    - `[1,2,3,2,1]` target array is formed.

- **Example 2:**

  - Input: `target = [3,1,1,2]`
  - Output: `4`
  - Explanation:
    - `[0,0,0,0]` → `[1,1,1,1]` → `[1,1,1,2]` → `[2,1,1,2]` → `[3,1,1,2]`

- **Example 3:**
  - Input: `target = [3,1,5,4,2]`
  - Output: `7`
  - Explanation:
    - `[0,0,0,0,0]` → `[1,1,1,1,1]` → `[2,1,1,1,1]` → `[3,1,1,1,1]` → `[3,1,2,2,2]` → `[3,1,3,3,2]` → `[3,1,4,4,2]` → `[3,1,5,4,2]`

## Constraints

- `1 <= target.length <= 10^5`
- `1 <= target[i] <= 10^5`

---

## Solution

1. **Observation:**  
   Each operation can increment a subarray, so to minimize operations, we should only increment when a value increases compared to the previous value.
2. **Approach:**
   - The first element always requires `target[0]` operations.
   - For each subsequent element, if `target[i] > target[i-1]`, we need `target[i] - target[i-1]` additional operations at position `i`.
   - Sum these increments for the answer.

**Complexity:**

- **Time:** O(n), where n is the length of `target`.
- **Space:** O(1)

**Python Code:**

```python
class Solution:
    def minNumberOperations(self, target: List[int]) -> int:
        res = target[0]
        for i in range(1, len(target)):
            res += max(0, target[i] - target[i-1])
        return res
```
