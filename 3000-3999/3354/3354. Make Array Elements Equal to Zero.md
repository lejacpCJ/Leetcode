# 3354. Make Array Elements Equal to Zero

## Problem Info

- **Status:** Solved
- **Difficulty:** Easy
- **Topics:** Array, Simulation, Prefix Sum
- [Link to the problem](https://leetcode.com/problems/make-array-elements-equal-to-zero/)

## Description

You are given an integer array nums.

Start by selecting a starting position curr such that nums[curr] == 0, and choose a movement direction of either left or right.

After that, you repeat the following process:

- If curr is out of the range [0, n - 1], this process ends.
- If nums[curr] == 0, move in the current direction by incrementing curr if you are moving right, or decrementing curr if you are moving left.
- Else if nums[curr] > 0:
  - Decrement nums[curr] by 1.
  - Reverse your movement direction (left becomes right and vice versa).
  - Take a step in your new direction.

A selection of the initial position curr and movement direction is considered valid if every element in nums becomes 0 by the end of the process.

Return the number of possible valid selections.

## Examples

Example 1:

- Input: nums = [1,0,2,0,3]
- Output: 2

Example 2:

- Input: nums = [2,3,4,0,4,1,0]
- Output: 0

## Constraints

- 1 <= nums.length <= 100
- 0 <= nums[i] <= 100
- There is at least one element i where nums[i] == 0.

---

## Solution

Observation: Let total = sum(nums). For a zero at index i, let prefix be the sum of values to the left of that zero. The selection(s) starting at that zero are valid depending on the relationship between total and 2 \* prefix:

- If total - 2 \* prefix == 0, both directions (left and right) work -> +2.
- If abs(total - 2 \* prefix) == 1, exactly one direction works -> +1.
- Otherwise, no valid selection from that zero.

This yields an O(n) solution using prefix sums.

**Complexity:**

- Time: O(n)
- Space: O(1)

**Python Code:**

```python
class Solution:
    def countValidSelections(self, nums: List[int]) -> int:
        total = sum(nums)
        prefix = 0
        res = 0
        for x in nums:
            if x == 0:
                diff = total - 2 * prefix
                if diff == 0:
                    res += 2
                elif abs(diff) == 1:
                    res += 1
            prefix += x
        return res
```
