# 3494. Find the Minimum Amount of Time to Brew Potions

## Problem Info

- **Difficulty:** Medium
- **Topics:** Array, Simulation, Prefix Sum
- [Link to the problem](https://leetcode.com/problems/find-the-minimum-amount-of-time-to-brew-potions/)

## Description

You are given two integer arrays, `skill` and `mana`, of length `n` and `m`, respectively.

In a laboratory, `n` wizards must brew `m` potions in order. Each potion has a mana capacity `mana[j]` and must pass through all the wizards sequentially to be brewed properly. The time taken by the `i`th wizard on the `j`th potion is `time_ij = skill[i] * mana[j]`.

Since the brewing process is delicate, a potion must be passed to the next wizard immediately after the current wizard completes their work. This means the timing must be synchronized so that each wizard begins working on a potion exactly when it arrives.

Return the minimum amount of time required for the potions to be brewed properly.

## Examples

- **Example 1:**

  - Input: `skill = [1,5,2,4]`, `mana = [5,1,4,2]`
  - Output: `110`
  - Explanation:

    | Potion | Start | Wizard 0 | Wizard 1 | Wizard 2 | Wizard 3 |
    | ------ | ----- | -------- | -------- | -------- | -------- |
    | 0      | 0     | 5        | 30       | 40       | 60       |
    | 1      | 52    | 53       | 58       | 60       | 64       |
    | 2      | 54    | 58       | 78       | 86       | 102      |
    | 3      | 86    | 88       | 98       | 102      | 110      |

- **Example 2:**

  - Input: `skill = [1,1,1]`, `mana = [1,1,1]`
  - Output: `5`
  - Explanation: Preparation of the 0th potion begins at time t = 0, and is completed by time t = 3. Preparation of the 1st potion begins at time t = 1, and is completed by time t = 4. Preparation of the 2nd potion begins at time t = 2, and is completed by time t = 5.

- **Example 3:**

  - Input: `skill = [1,2,3,4]`, `mana = [1,2]`
  - Output: `21`

## Constraints

- `n == skill.length`
- `m == mana.length`
- `1 <= n, m <= 5000`
- `1 <= mana[i], skill[i] <= 5000`

---

## Solution

1. **Track finish times:** For each wizard, keep track of when they finish the previous potion.
2. **Simulate brewing:** For each potion, calculate the time each wizard would like to start (if there were no waiting), then determine the necessary wait so that no wizard is idle.
3. **Update finish times:** After brewing each potion, update the finish times for each wizard.
4. **Return the last finish time:** The answer is when the last wizard finishes the last potion.

**Complexity:**

- **Time:** O(n \* m), where n is the number of wizards and m is the number of potions.
- **Space:** O(n), for the array tracking finish times.

**Python Code:**

```python
from typing import List

class Solution:
    def minTime(self, skill: List[int], mana: List[int]) -> int:
        n = len(skill)
        prev_end = [0] * n  # Finish times for each wizard after previous potion

        for m in mana:
            cost = [m * s for s in skill]
            desired_start = [0] * n
            desired_start[0] = prev_end[0]
            for i in range(1, n):
                desired_start[i] = desired_start[i-1] + cost[i-1]
            wait = max(prev - des for prev, des in zip(prev_end, desired_start))
            prev_end[0] = desired_start[0] + wait + cost[0]
            for i in range(1, n):
                prev_end[i] = prev_end[i-1] + cost[i]
        return prev_end[-1]
```
