# 3542. Minimum Operations to Convert All Elements to Zero

## Problem Info

- **Difficulty:** Medium
- **Topics:** Array, Hash Table, Stack, Greedy, Monotonic Stack
- [Link to the problem](https://leetcode.com/problems/minimum-operations-to-convert-all-elements-to-zero/)

## Description

You are given an array `nums` of size `n`, consisting of non-negative integers. Your task is to apply some (possibly zero) operations on the array so that all elements become 0.

In one operation, you can select a subarray `[i, j]` (where `0 <= i <= j < n`) and set all occurrences of the minimum non-negative integer in that subarray to 0.

Return the minimum number of operations required to make all elements in the array 0.

## Examples

- **Example 1:**

  - Input: `nums = [0,2]`
  - Output: `1`
  - Explanation: Select the subarray `[1,1]` (which is `[2]`), set 2 to 0. Result: `[0,0]`.

- **Example 2:**

  - Input: `nums = [3,1,2,1]`
  - Output: `3`
  - Explanation:
    1. Select `[1,3]` (`[1,2,1]`), set 1 to 0: `[3,0,2,0]`
    2. Select `[2,2]` (`[2]`), set 2 to 0: `[3,0,0,0]`
    3. Select `[0,0]` (`[3]`), set 3 to 0: `[0,0,0,0]`

- **Example 3:**
  - Input: `nums = [1,2,1,2,1,2]`
  - Output: `4`
  - Explanation:
    1. Select `[0,5]` (`[1,2,1,2,1,2]`), set 1 to 0: `[0,2,0,2,0,2]`
    2. Select `[1,1]` (`[2]`), set 2 to 0: `[0,0,0,2,0,2]`
    3. Select `[3,3]` (`[2]`), set 2 to 0: `[0,0,0,0,0,2]`
    4. Select `[5,5]` (`[2]`), set 2 to 0: `[0,0,0,0,0,0]`

## Constraints

- `1 <= n == nums.length <= 10^5`
- `0 <= nums[i] <= 10^5`

---

## Solution

1. **Greedy Approach:**  
   For each strictly increasing value in the array (ignoring zeros), count it as a new operation.  
   Use a stack to track the last processed value and pop values greater than the current.

2. **Algorithm Steps:**
   - Iterate through `nums`.
   - Skip zeros.
   - If the stack is empty or the current value is greater than the last, increment the operation count and push it.
   - If the stack's last value is greater than the current, pop until the stack is empty or the last value is less than or equal to the current.

**Complexity:**

- **Time:** O(n)
- **Space:** O(n)

**Python Code:**

```python
class Solution:
    def minOperations(self, nums: List[int]) -> int:
        count = 0
        q = []
        for num in nums:
            while q and q[-1] > num:
                q.pop()
            if num == 0:
                continue
            if not q or q[-1] < num:
                count += 1
                q.append(num)
        return count
```
